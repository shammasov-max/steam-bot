const _0x1abf02=_0x1102;function _0x5658(){const _0x43894f=['getTime','crypto','9KnJcuv','jwtLogin','removeEventEmitterHandlers','4AtawtW','parse','print_info','input_steam_guard','_jwt','logOn','68496mgUXLd','floor','yellow','getAuthCode','httpProxy','checked','355553tmPPjS','306879cglrHf','steam-totp','error','machineAuthToken.','proxy','Error','132lZQIHl','replace','focus','password','8371480Wxbfif','random','authenticated','steamGuardMachineToken','friendRelationship','59624yhyhFt','chat','onkeyup','getRefreshToken','shared_secret','length','hide','.\x20Reason\x20','timeout','8938970zRtcWF','logonID','18HMACVE','enter_steam_guard','account','12egrOno','refreshToken','getSteamGuardMachineToken','Save\x20steam\x20guard\x20machine\x20token\x20','70yAckDT','login','friendMessage','jwt','setItem','clients','steam-session','value','settings','actionRequired','Login\x20Timedout\x20','lastReloginDate','red','enteredGuardCodeManyally','no_replace_login','languages','trim','getElementById','.code','Session\x20error:\x20','prototype','onclick','\x20already\x20rellogining','relog','Session\x20error\x202:\x20','disconnected','.txt','cancelLoginAttempt','utf8','1101340qwIlXa','maFile','from','skip_account','accountLimitations','info','steamGuard','removeAllListeners','../steam','once','codeInput','codeSend','split','helper','friendsList','loginKey','steamTimeOffset','stringify','getItem','client','language','newComments','loggedOn','toString','_readFile','SteamClient','event_emitter','remove','relog\x20','nickname','base64','exp','rt_exp','keyCode'];_0x5658=function(){return _0x43894f;};return _0x5658();}(function(_0x152455,_0x173172){const _0x311eb6=_0x1102,_0x29d1b6=_0x152455();while(!![]){try{const _0x39d415=-parseInt(_0x311eb6(0x154))/0x1*(-parseInt(_0x311eb6(0x14e))/0x2)+parseInt(_0x311eb6(0x15b))/0x3*(parseInt(_0x311eb6(0x178))/0x4)+parseInt(_0x311eb6(0x199))/0x5*(-parseInt(_0x311eb6(0x175))/0x6)+-parseInt(_0x311eb6(0x17c))/0x7*(-parseInt(_0x311eb6(0x16a))/0x8)+-parseInt(_0x311eb6(0x14b))/0x9*(-parseInt(_0x311eb6(0x173))/0xa)+parseInt(_0x311eb6(0x15a))/0xb*(parseInt(_0x311eb6(0x161))/0xc)+-parseInt(_0x311eb6(0x165))/0xd;if(_0x39d415===_0x173172)break;else _0x29d1b6['push'](_0x29d1b6['shift']());}catch(_0x4ad3d9){_0x29d1b6['push'](_0x29d1b6['shift']());}}}(_0x5658,0x710ef));function _0x1102(_0x413e8a,_0x8e78e7){const _0x565812=_0x5658();return _0x1102=function(_0x110226,_0x29e542){_0x110226=_0x110226-0x141;let _0x9cf516=_0x565812[_0x110226];return _0x9cf516;},_0x1102(_0x413e8a,_0x8e78e7);}const steam=require(_0x1abf02(0x1a1)),SteamTotp=require(_0x1abf02(0x15c)),{createHash}=require(_0x1abf02(0x14a)),{LoginSession,EAuthTokenPlatformType}=require(_0x1abf02(0x182)),{logger}=require('./logger'),random=(_0x329159,_0x3d8ad4)=>Math[_0x1abf02(0x155)](Math[_0x1abf02(0x166)]()*(_0x3d8ad4-_0x329159))+_0x329159;steam[_0x1abf02(0x190)][_0x1abf02(0x17a)]=async function(_0x24a422){const _0x5f4a37=_0x1abf02;try{const _0x496073=await this[_0x5f4a37(0x1ac)][_0x5f4a37(0x1b1)](_0x5f4a37(0x15e)+this[_0x5f4a37(0x177)][_0x5f4a37(0x18a)]+_0x5f4a37(0x196));return _0x496073[_0x5f4a37(0x1b0)](_0x5f4a37(0x198));}catch(_0x3c2038){}return undefined;};const decodeJwt=_0x37cef6=>{const _0x1aad7d=_0x1abf02;let _0x2ec3d3=_0x37cef6[_0x1aad7d(0x1a5)]('.');if(_0x2ec3d3[_0x1aad7d(0x16f)]!=0x3)throw new Error('Invalid\x20JWT');let _0x3f824f=_0x2ec3d3[0x1][_0x1aad7d(0x162)](/-/g,'+')[_0x1aad7d(0x162)](/_/g,'/');return JSON[_0x1aad7d(0x14f)](Buffer[_0x1aad7d(0x19b)](_0x3f824f,_0x1aad7d(0x145))[_0x1aad7d(0x1b0)](_0x1aad7d(0x198)));};steam[_0x1abf02(0x190)][_0x1abf02(0x16d)]=async function(){const _0x2d388d=_0x1abf02;this[_0x2d388d(0x17f)]=localStorage[_0x2d388d(0x1ab)](this[_0x2d388d(0x177)][_0x2d388d(0x17d)]+_0x2d388d(0x152))?JSON[_0x2d388d(0x14f)](localStorage[_0x2d388d(0x1ab)](this['account'][_0x2d388d(0x17d)]+_0x2d388d(0x152))):null;if(this['jwt']&&(this[_0x2d388d(0x17f)][_0x2d388d(0x147)]||this[_0x2d388d(0x17f)][_0x2d388d(0x146)])*0x3e8>new Date()[_0x2d388d(0x149)]()&&this[_0x2d388d(0x17f)][_0x2d388d(0x164)]===this[_0x2d388d(0x177)][_0x2d388d(0x164)])return{'status':!![],'refreshToken':this[_0x2d388d(0x17f)]['refreshToken']};return this[_0x2d388d(0x14c)]();},steam[_0x1abf02(0x190)][_0x1abf02(0x14c)]=function(){return new Promise(async _0x53d709=>{const _0x49a861=_0x1102,_0x13f2b9={'machineFriendlyName':this['account']['no_replace_login']};this['proxy']&&(_0x13f2b9[_0x49a861(0x158)]=this[_0x49a861(0x15f)]);const _0x3cdb52=new LoginSession(EAuthTokenPlatformType[_0x49a861(0x1b2)],_0x13f2b9),_0x980227=await this['getSteamGuardMachineToken'](this[_0x49a861(0x177)][_0x49a861(0x18a)]),_0x15d4ae=()=>{_0x3cdb52['cancelLoginAttempt'](),_0x53d709({'status':![]});},_0x570b56=async()=>{const _0x7361a8=_0x49a861,_0x8ea662=document[_0x7361a8(0x18d)]('codeInput')[_0x7361a8(0x183)][_0x7361a8(0x18c)]();if(_0x8ea662==='')swal(_0x7361a8(0x160),process[_0x7361a8(0x18b)][process[_0x7361a8(0x184)]['language']][_0x7361a8(0x151)],_0x7361a8(0x15d));else try{await _0x3cdb52['submitSteamGuardCode'](_0x8ea662);}catch(_0xe425b5){process[_0x7361a8(0x1a6)][_0x7361a8(0x150)](this[_0x7361a8(0x177)][_0x7361a8(0x17d)]+':\x20'+_0xe425b5,_0x7361a8(0x188));}};try{const _0x171fcf=await _0x3cdb52['startWithCredentials']({'accountName':this[_0x49a861(0x177)][_0x49a861(0x18a)],'password':this[_0x49a861(0x177)][_0x49a861(0x164)][_0x49a861(0x18c)](),'steamGuardCode':this['maFile']?SteamTotp[_0x49a861(0x157)](this[_0x49a861(0x19a)][_0x49a861(0x16e)],process[_0x49a861(0x1a9)]):undefined,'steamGuardMachineToken':_0x980227});if(_0x171fcf[_0x49a861(0x185)]){if(document[_0x49a861(0x18d)]('fast_auth')[_0x49a861(0x159)])process['helper'][_0x49a861(0x150)](this[_0x49a861(0x177)][_0x49a861(0x17d)]+':\x20'+process['languages'][process['settings']['language']]['importMafile'],_0x49a861(0x156)),_0x15d4ae();else{process[_0x49a861(0x1a6)][_0x49a861(0x150)](process[_0x49a861(0x18b)][process[_0x49a861(0x184)][_0x49a861(0x1ad)]][_0x49a861(0x176)]+'\x20'+this[_0x49a861(0x177)]['login']);const _0x3fcb4d=document['querySelector'](_0x49a861(0x18e)),_0x24c813=document[_0x49a861(0x18d)](_0x49a861(0x1a3));_0x3fcb4d['classList'][_0x49a861(0x142)](_0x49a861(0x170)),_0x24c813[_0x49a861(0x16c)]=_0x41e7d7=>{const _0x420fae=_0x49a861;_0x41e7d7[_0x420fae(0x148)]===0xd&&(this[_0x420fae(0x189)]=!![],_0x570b56(),_0x24c813[_0x420fae(0x183)]='');},document[_0x49a861(0x18d)](_0x49a861(0x1a4))[_0x49a861(0x191)]=()=>{const _0x50a047=_0x49a861;this[_0x50a047(0x189)]=!![],_0x570b56();},document[_0x49a861(0x18d)](_0x49a861(0x19c))['onclick']=()=>{const _0x542c3d=_0x49a861;delete process[_0x542c3d(0x181)][this[_0x542c3d(0x177)][_0x542c3d(0x17d)]],_0x15d4ae();},setTimeout(()=>_0x24c813[_0x49a861(0x163)](),0xc8);}}_0x3cdb52['on'](_0x49a861(0x167),async()=>{const _0x5338c8=_0x49a861,_0x2ceae8=decodeJwt(_0x3cdb52[_0x5338c8(0x179)]);this[_0x5338c8(0x17f)]={'refreshToken':_0x3cdb52[_0x5338c8(0x179)],'exp':_0x2ceae8['exp'],'password':this[_0x5338c8(0x177)]['password']},localStorage[_0x5338c8(0x180)](this[_0x5338c8(0x177)][_0x5338c8(0x17d)]+_0x5338c8(0x152),JSON[_0x5338c8(0x1aa)](this[_0x5338c8(0x17f)])),_0x3cdb52[_0x5338c8(0x197)](),_0x53d709({'status':!![],'refreshToken':_0x3cdb52[_0x5338c8(0x179)],'jwt':_0x2ceae8});}),_0x3cdb52['on'](_0x49a861(0x172),()=>{const _0x5d1669=_0x49a861;logger['error'](_0x5d1669(0x186)+this[_0x5d1669(0x177)][_0x5d1669(0x17d)]),process['helper']['print_info'](this['account']['login']+'\x20Auth\x20timedout\x20'+(this[_0x5d1669(0x15f)]||''),'red'),_0x15d4ae();}),_0x3cdb52['on']('steamGuardMachineToken',()=>{const _0x1c5949=_0x49a861;_0x3cdb52[_0x1c5949(0x168)]&&(this[_0x1c5949(0x1ac)]['_saveFile'](_0x1c5949(0x15e)+this['account'][_0x1c5949(0x18a)]+'.txt',Buffer[_0x1c5949(0x19b)](_0x3cdb52['steamGuardMachineToken'],_0x1c5949(0x198))),logger[_0x1c5949(0x19e)](_0x1c5949(0x17b)+this[_0x1c5949(0x177)][_0x1c5949(0x18a)]));}),_0x3cdb52['on']('error',_0x5a1617=>{const _0x1adc35=_0x49a861;logger[_0x1adc35(0x15d)](_0x1adc35(0x18f)+_0x5a1617['message']),process['helper'][_0x1adc35(0x150)](this[_0x1adc35(0x177)][_0x1adc35(0x17d)]+'\x20'+_0x5a1617+'\x20'+(this[_0x1adc35(0x15f)]||''),_0x1adc35(0x188)),_0x15d4ae();});}catch(_0x49cba3){logger['error'](_0x49a861(0x194)+this[_0x49a861(0x177)]['login']+'\x20'+_0x49cba3+'\x20'+(this[_0x49a861(0x15f)]||'')),process[_0x49a861(0x1a6)]['print_info'](this[_0x49a861(0x177)][_0x49a861(0x17d)]+':\x20'+_0x49cba3,_0x49a861(0x188)),_0x15d4ae();}});},steam[_0x1abf02(0x190)][_0x1abf02(0x17d)]=function(){return new Promise(async _0x530550=>{const _0x4e95ae=_0x1102;try{const {status:_0x4410b0}=await this[_0x4e95ae(0x16d)]();_0x4410b0?(this['event_emitter'][_0x4e95ae(0x1a2)](_0x4e95ae(0x153),_0x49e630=>{_0x530550(_0x49e630);}),this[_0x4e95ae(0x174)]=this[_0x4e95ae(0x174)]||random(0x0,0x64),this[_0x4e95ae(0x1ac)][_0x4e95ae(0x153)]({'refreshToken':this[_0x4e95ae(0x17f)][_0x4e95ae(0x179)],'machineName':this[_0x4e95ae(0x177)]['no_replace_login'],'logonID':this['logonID']})):_0x530550(![]);}catch(_0x3a6c82){logger[_0x4e95ae(0x15d)]('Login\x20error:\x20'+_0x3a6c82),_0x530550(![]);}});},steam['prototype']['removeSteamHandlers']=function(){const _0x3ea121=_0x1abf02;this[_0x3ea121(0x1ac)]['removeAllListeners']('webSession'),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)]('friendPersonasLoaded'),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)]('user'),this['client'][_0x3ea121(0x1a0)]('friendTyping'),this['client']['removeAllListeners'](_0x3ea121(0x17e)),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)](_0x3ea121(0x169)),this[_0x3ea121(0x1ac)]['removeAllListeners'](_0x3ea121(0x1ae)),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)](_0x3ea121(0x15d)),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)](_0x3ea121(0x1af)),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)](_0x3ea121(0x1a8)),this['client'][_0x3ea121(0x1a0)](_0x3ea121(0x19f)),this[_0x3ea121(0x1ac)][_0x3ea121(0x1a0)](_0x3ea121(0x144)),this['client'][_0x3ea121(0x1a0)](_0x3ea121(0x1a7)),this['client']['removeAllListeners'](_0x3ea121(0x19d)),this['client'][_0x3ea121(0x1a0)](_0x3ea121(0x195)),this[_0x3ea121(0x1ac)][_0x3ea121(0x16b)][_0x3ea121(0x1a0)]('friendMessage'),this[_0x3ea121(0x1ac)][_0x3ea121(0x16b)]['removeAllListeners']('friendTyping');},steam[_0x1abf02(0x190)][_0x1abf02(0x14d)]=function(){const _0x28efcf=_0x1abf02;this['event_emitter'][_0x28efcf(0x1a0)](_0x28efcf(0x153)),this[_0x28efcf(0x141)][_0x28efcf(0x1a0)]('stop_typing');},steam[_0x1abf02(0x190)]['relogin']=function(_0x29df43){const _0x24aa7e=_0x1abf02;if(new Date()[_0x24aa7e(0x149)]()>this[_0x24aa7e(0x187)]+0x2710){this[_0x24aa7e(0x187)]=new Date()[_0x24aa7e(0x149)](),logger[_0x24aa7e(0x19e)](_0x24aa7e(0x143)+this[_0x24aa7e(0x177)][_0x24aa7e(0x17d)]+_0x24aa7e(0x171)+_0x29df43);try{this['client'][_0x24aa7e(0x193)]();}catch(_0x581f9e){logger[_0x24aa7e(0x19e)]('full\x20relog\x20'+this[_0x24aa7e(0x177)][_0x24aa7e(0x17d)]+_0x24aa7e(0x171)+_0x581f9e),this[_0x24aa7e(0x17d)]();}}else logger[_0x24aa7e(0x19e)](this[_0x24aa7e(0x177)][_0x24aa7e(0x17d)]+_0x24aa7e(0x192));};