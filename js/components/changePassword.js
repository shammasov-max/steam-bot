const _0x1e274a=_0x2ecd;(function(_0x1d9735,_0x1962b5){const _0x590cd0=_0x2ecd,_0x22b254=_0x1d9735();while(!![]){try{const _0x45ded7=parseInt(_0x590cd0(0x119))/0x1*(parseInt(_0x590cd0(0xf4))/0x2)+-parseInt(_0x590cd0(0x10e))/0x3+parseInt(_0x590cd0(0xf8))/0x4+-parseInt(_0x590cd0(0x114))/0x5*(parseInt(_0x590cd0(0xf7))/0x6)+-parseInt(_0x590cd0(0xed))/0x7+-parseInt(_0x590cd0(0x11d))/0x8*(-parseInt(_0x590cd0(0xe8))/0x9)+parseInt(_0x590cd0(0xec))/0xa;if(_0x45ded7===_0x1962b5)break;else _0x22b254['push'](_0x22b254['shift']());}catch(_0xc9202f){_0x22b254['push'](_0x22b254['shift']());}}}(_0x28fc,0xd18a1));function _0x28fc(){const _0x378399=['match','https://help.steampowered.com/en/login/getrsakey/','publickey_exp','getPublicKey','changePasswordsWithTimeout\x20timedout','accountid','body','\x20New:\x20','changePassword\x20','https://help.steampowered.com/en/wizard/AjaxAccountRecoveryVerifyPassword/','changePassword','acceptPasswordOnMobile\x20','Previous:\x20','client','getRsaKey','generate','post','prototype','213669AqsBQx','steamID','errorMsg','https://help.steampowered.com/en/wizard/AjaxSendAccountRecoveryCode','22521380CFfrcJ','5994653EkDXDj','href','length','getRcn','https://help.steampowered.com/en/wizard/HelpChangePassword?redir=store/account/','https://help.steampowered.com/en/public/javascript/help.js','success','1932442QXqIHm','set_settings','changePasswordsWithTimeout','18YiwmJY','837192LiNpcK','getSFromRecoveryLink\x20','timestamp','get','encrypt','no_replace_login','error','log','password','passwords','acceptPasswordOnMobile','load','generate-password','.help_wizard_button.help_wizard_arrow_right','getConfirmations','sendMobileVerification\x20','sendMobileVerification','getNonceKey','changePasswordsWithTimeout\x20','&reset=1&lost=0&method=8&issueid=406&sessionid=','cheerio','parse','3267204SltHDT','info','changePasswordRequest','https://help.steampowered.com/en/wizard/AjaxVerifyAccountRecoveryCode?code=&s=','../steam','publickey_mod','2345650TrHbTV','./rsa','sessionID','acceptConfirmations','account','1SIGlbX','getRecoveryLink','attr','verifyRecoveryCode','264bzOjpi'];_0x28fc=function(){return _0x378399;};return _0x28fc();}function _0x2ecd(_0x1abf9f,_0x55d90f){const _0x28fcb9=_0x28fc();return _0x2ecd=function(_0x2ecd54,_0x44297d){_0x2ecd54=_0x2ecd54-0xdc;let _0x580568=_0x28fcb9[_0x2ecd54];return _0x580568;},_0x2ecd(_0x1abf9f,_0x55d90f);}const cheerio=require(_0x1e274a(0x10c)),request=require('request'),generator=require(_0x1e274a(0x104)),fs=require('fs'),steam=require(_0x1e274a(0x112)),{RSA}=require(_0x1e274a(0x115)),{logger,passwordsLogger}=require('./logger'),getSFromRecoveryLink=_0x4d5a7e=>{const _0x21ac71=_0x1e274a;try{const _0x4b9799=new URL(_0x4d5a7e);return _0x4b9799['searchParams'][_0x21ac71(0xfb)]('s');}catch(_0x239715){logger[_0x21ac71(0xfe)](_0x21ac71(0xf9)+_0x239715);}return'';};steam[_0x1e274a(0xe7)][_0x1e274a(0x11a)]=function(){return new Promise(_0x2b9b4c=>{const _0x153988=_0x2ecd,_0x3c4c49=this[_0x153988(0xf5)](_0x153988(0xf1));request[_0x153988(0xfb)](_0x3c4c49,(_0xd7c023,_0x57133b)=>{const _0x26e960=_0x153988;try{const _0x180935=cheerio[_0x26e960(0x103)](_0x57133b[_0x26e960(0xdc)]),_0x5b7f2e=_0x180935(_0x26e960(0x105))['first']()[_0x26e960(0x11b)](_0x26e960(0xee));_0x2b9b4c({'status':_0x5b7f2e!==undefined,'link':_0x5b7f2e});}catch(_0x303153){_0x2b9b4c({'status':![],'link':undefined});}});});},steam[_0x1e274a(0xe7)][_0x1e274a(0xf0)]=function(_0xf48469){const _0x3edce2=_0x1e274a,_0x30c91c=this[_0x3edce2(0xf5)](_0xf48469);return new Promise(_0x94cdc7=>{const _0xf124c2=_0x3edce2;request[_0xf124c2(0xfb)](_0x30c91c,(_0x49c793,_0x27e0de)=>{const _0xd25c2e=_0xf124c2,_0x3090f9=_0x27e0de[_0xd25c2e(0xdc)][_0xd25c2e(0x11e)](/SendAccountRecoveryCode\(.*\)/)[0x0][_0xd25c2e(0x11e)](/\d{4,}/g);_0x94cdc7(Number(_0x3090f9[0x1]));});});},steam[_0x1e274a(0xe7)]['sendMobileVerification']=function(_0x1da474,_0x4d2c46){return new Promise(_0x339372=>{const _0x3ff691=_0x2ecd,_0x18b5b9=this[_0x3ff691(0xf5)](_0x3ff691(0xeb),{'sessionid':this[_0x3ff691(0x116)],'wizard_ajax':0x1,'gamepad':0x0,'s':getSFromRecoveryLink(_0x1da474),'method':0x8,'link':'','n':0x1});request[_0x3ff691(0xe6)](_0x18b5b9,(_0x26d1d6,_0x6a6867)=>{const _0x5795d4=_0x3ff691;try{const _0x241b9b=JSON[_0x5795d4(0x10d)](_0x6a6867[_0x5795d4(0xdc)]);}catch(_0xf2691a){logger['error'](_0x5795d4(0x107)+_0xf2691a);}_0x339372();});});},steam[_0x1e274a(0xe7)][_0x1e274a(0x102)]=async function(){const _0x4a7a87=_0x1e274a;try{const _0xdcb681=await this[_0x4a7a87(0x106)](0x6),_0x26d50c=await this[_0x4a7a87(0x117)](_0xdcb681);return _0x26d50c>0x0;}catch(_0x505da3){logger[_0x4a7a87(0xfe)](_0x4a7a87(0xe1)+_0x505da3);}return![];},steam[_0x1e274a(0xe7)][_0x1e274a(0xe4)]=function(){return new Promise(_0x3b77a5=>{const _0x12deac=_0x2ecd,_0x595015=this[_0x12deac(0xf5)](_0x12deac(0x11f),{'sessionid':this[_0x12deac(0x116)],'wizard_ajax':0x1,'gamepad':0x0,'username':this[_0x12deac(0x118)][_0x12deac(0xfd)]});request['post'](_0x595015,(_0x5cf171,_0x3d4046)=>{const _0xa0d9ab=_0x12deac;try{const _0x257cb2=JSON['parse'](_0x3d4046[_0xa0d9ab(0xdc)]);_0x3b77a5({..._0x257cb2,'status':_0x257cb2[_0xa0d9ab(0xf3)]});}catch(_0x322b2c){_0x3b77a5({'status':![]});}});});},steam[_0x1e274a(0xe7)][_0x1e274a(0x110)]=function({recoveryLink:_0x247ae7,rsaKey:_0x4bd2b3,passwordsFilePathName:_0x5ef2b7}){return new Promise(_0x20b05e=>{const _0x5e206a=_0x2ecd,_0x255088=generator[_0x5e206a(0xe5)]({'length':this[_0x5e206a(0x118)]['password'][_0x5e206a(0xef)],'numbers':!![]}),_0x4d9798=this[_0x5e206a(0x118)][_0x5e206a(0xfd)]+':'+this['account']['password'],_0x352417=this['account'][_0x5e206a(0xfd)]+':'+_0x255088;passwordsLogger[_0x5e206a(0xff)](_0x5e206a(0x101),_0x5e206a(0xe2)+_0x4d9798+_0x5e206a(0xdd)+_0x352417);const _0x42e2bf=RSA[_0x5e206a(0x121)](_0x4bd2b3[_0x5e206a(0x113)],_0x4bd2b3['publickey_exp']),_0x5c74fb=RSA['encrypt'](_0x255088,_0x42e2bf),_0x28c35f=this[_0x5e206a(0xf5)]('https://help.steampowered.com/en/wizard/AjaxAccountRecoveryChangePassword/',{'sessionid':this[_0x5e206a(0x116)],'wizard_ajax':0x1,'gamepad':0x0,'s':getSFromRecoveryLink(_0x247ae7),'account':this[_0x5e206a(0xe3)][_0x5e206a(0xe9)][_0x5e206a(0x123)],'password':_0x5c74fb,'rsatimestamp':_0x4bd2b3[_0x5e206a(0xfa)]});request[_0x5e206a(0xe6)](_0x28c35f,(_0xcaa54f,_0x4917a3)=>{const _0x606cfe=_0x5e206a;try{const _0x2184c4=JSON[_0x606cfe(0x10d)](_0x4917a3[_0x606cfe(0xdc)]);_0x20b05e({'status':_0x2184c4[_0x606cfe(0xea)]===undefined||_0x2184c4[_0x606cfe(0xea)][_0x606cfe(0xef)]===0x0,'password':_0x255088});}catch(_0x301b72){_0x20b05e({'status':![]});}});});},steam[_0x1e274a(0xe7)]['verifyRecoveryCode']=function(_0x40c7a0){return new Promise(_0x4ebe68=>{const _0xa02de2=_0x2ecd,_0x100878=getSFromRecoveryLink(_0x40c7a0),_0x4f823f=this[_0xa02de2(0xf5)](_0xa02de2(0x111)+_0x100878+_0xa02de2(0x10b)+this[_0xa02de2(0x116)]+'&wizard_ajax=1&gamepad=0');request[_0xa02de2(0xfb)](_0x4f823f,(_0x4aba96,_0x4bad69)=>{_0x4ebe68();});});},steam['prototype']['verifyPassword']=function({recoveryLink:_0x1e1ab9,rsaKey:_0x1bb63a}){return new Promise(_0x3d685d=>{const _0x4c1183=_0x2ecd,_0x25dcaf=RSA[_0x4c1183(0x121)](_0x1bb63a[_0x4c1183(0x113)],_0x1bb63a[_0x4c1183(0x120)]),_0x44d9ef=RSA[_0x4c1183(0xfc)](this[_0x4c1183(0x118)][_0x4c1183(0x100)],_0x25dcaf),_0x44b2c1=this[_0x4c1183(0xf5)](_0x4c1183(0xdf),{'sessionid':this['sessionID'],'s':getSFromRecoveryLink(_0x1e1ab9),'lost':0x2,'reset':0x1,'password':_0x44d9ef,'rsatimestamp':_0x1bb63a[_0x4c1183(0xfa)]});request[_0x4c1183(0xe6)](_0x44b2c1,(_0x1efbd2,_0x1e1ad8)=>{_0x3d685d();});});},steam[_0x1e274a(0xe7)][_0x1e274a(0x109)]=async function(){return new Promise(_0x14ec8f=>{const _0x4aab3e=_0x2ecd,_0x4e2817=this[_0x4aab3e(0xf5)](_0x4aab3e(0xf2));request[_0x4aab3e(0xfb)](_0x4e2817,(_0x38497d,_0x28b1ac)=>{const _0x4334ec=_0x4aab3e,_0x27c5ad=_0x28b1ac[_0x4334ec(0xdc)]['match'](/([a-zA-Z0-9_]+)\s*:\s*nNonce/)[0x1];_0x14ec8f(_0x27c5ad);});});},steam[_0x1e274a(0xe7)][_0x1e274a(0xe0)]=async function(_0x6304cd){const _0x281191=_0x1e274a;try{if(this['maFile']){const {status:_0x1db45d,link:_0x4f801f}=await this[_0x281191(0x11a)]();if(_0x1db45d&&_0x4f801f){await this[_0x281191(0x108)](_0x4f801f);const _0xe2e7e9=await this[_0x281191(0x102)](),_0x9c3b2a=await this[_0x281191(0xe4)]();if(_0xe2e7e9){await this[_0x281191(0x11c)](_0x4f801f);const {status:_0x1489d9,password:_0x33215f}=await this['changePasswordRequest']({'rsaKey':_0x9c3b2a,'recoveryLink':_0x4f801f,'passwordsFilePathName':_0x6304cd});return{'status':_0x1489d9,'password':_0x33215f};}return{'status':![]};}}}catch(_0x54248c){logger[_0x281191(0xfe)](_0x281191(0xde)+_0x54248c);}return{'status':![]};},steam['prototype'][_0x1e274a(0xf6)]=function(_0x137792){return new Promise(async _0x352e66=>{const _0x5bbc0d=_0x2ecd;try{const _0x2630cd=setTimeout(()=>{const _0x14e9ca=_0x2ecd;logger[_0x14e9ca(0x10f)](_0x14e9ca(0x122)),_0x352e66({'status':![]});},0xea60),_0xe0606b=await this[_0x5bbc0d(0xe0)](_0x137792);clearTimeout(_0x2630cd),_0x352e66(_0xe0606b);}catch(_0x3560ea){clearTimeout(timeout),logger[_0x5bbc0d(0xfe)](_0x5bbc0d(0x10a)+_0x3560ea),_0x352e66({'status':![]});}});};